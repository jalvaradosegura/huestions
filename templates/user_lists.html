{% extends "base.html" %}

{% load static %}

{% block main %}

<div id="copy-to-clipboard-div" class="alert alert-info alert-dismissible text-center" role="alert" style="display:none">
  <strong>Copied!</strong> List copied to your clipboard, share with your friends
</div>

<h1>Your lists</h1>
    {% for question_list in object_list %}
      <div class="card" style="">
	<div class="card-body">
	  <h5 class="card-title">{{ question_list.title }}</h5>
	  <h6 class="card-subtitle mb-2 text-muted">Created: {{ question_list.created|date:"M d, Y" }}</h6>
	  <p class="card-text">{{ question_list.description }}</p>
	  {% if question_list.active %}
	    <p>Published</p>
	    <button onclick="copyToClipboard('{{ request.get_host }}{{ question_list.get_absolute_url }}')" class="btn btn-outline-secondary">Share list</button>
	    <a id="button_to_select" href="{{ question_list.get_absolute_url }}" class="btn btn-success">Go!</a>

	  {% else %}
	    <a href="{% url 'edit_list' question_list.slug %}" class="btn btn-outline-primary" id="edit_{{ forloop.counter0 }}">Edit</a>
	    <a href="{% url 'delete_list' question_list.slug %}" class="btn btn-danger" id="delete_{{ forloop.counter0 }}">Delete</a>
	  {% endif %}
	</div>
      </div>
      <br>
    {% endfor %}

  <script src="{% static 'js/share_list.js' %}" type="text/javascript"></script>

{% endblock main %}
