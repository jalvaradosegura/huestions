{% extends "base.html" %}

{% load i18n %}
{% load l10n %}
{% load static %}

{% load widget_tweaks %}


{% block main %}

  {% url 'answer_list' questionlist.slug user as list_url %}
  {% with domain_url=request.get_host %}
    <div class="field is-grouped">
      <div class="control">
        <h2 class="title is-2">{{ questionlist.title }}</h2>
      </div>
      <div class="control">
        <button data-toggle="tooltip" onclick="copyToClipboard('{{ domain_url }}{{ list_url }}')" class="button is-light mb-2">{% trans "Share list" %}</button>
      </div>
    </div>
  {% endwith %}

  {% localize off %}
    <progress class="progress is-primary" value="{{ percentage }}" max="100"></progress>
    <div class="has-text-right">
      <h4 class="title is-4">🏁<h4>
    </div>
  {% endlocalize %}

  <h3 class="title is-3">{{ question.title }}</h3>

  <figure type="submit" class="image is-clickable is-128x128">
    <img class="is-rounded" src="{{ form.img_1_url }}">
  </figure>

  <figure type="submit" class="image is-clickable is-128x128">
    <img class="is-rounded" src="{{ form.img_2_url }}">
  </figure>

  <form action="" method="post"> {% csrf_token %}

    <div class="field">
      <div class="control">
        {% if form.alternatives.errors %}
          {% render_field form.alternatives class+="radio is-danger"%}
	  {% for error in form.alternatives.errors %}
	    <p class="help is-danger">{{ error }}</p>
	  {% endfor %}
        {% else %}
          {% render_field form.alternatives class+="radio"%}
        {% endif %}
      </div>
    </div>

    <input type="hidden" name="list_slug" value="{{ questionlist.slug }}">
    <button id="button_to_vote" class="button is-success">{% trans "Answer" %}</button>
  </form>

  {% block bootstrap_js_loaded %}
    <script src="{% static 'js/copy_to_clipboard.js' %}" type="text/javascript"></script>
  {% endblock bootstrap_js_loaded %}

{% endblock main %}
