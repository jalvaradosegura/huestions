{% extends "base.html" %}

{% load i18n %}
{% load static %}

{% block main %}

  <h1>{% trans "Your lists" %}</h1>
  {% for question_list in object_list %}
    <div class="card" style="">
      <div class="card-body">
        <h5 class="card-title">{{ question_list.title }}</h5>
        <h6 class="card-subtitle mb-2 text-muted">{% trans "Created" %}: {{ question_list.created|date:"M d, Y" }}</h6>
	<p class="card-text">{% for tag in question_list.tags.all %}#{{ tag }} {% endfor %}</p>
        {% if question_list.active %}
	  <p>Published</p>
	  {% url 'answer_list' question_list.slug user as list_url %}
	  {% with domain_url=request.get_host %}
	    <button data-toggle="tooltip" onclick="copyToClipboard('{{ domain_url }}{{ list_url }}')" class="btn btn-outline-secondary">{% trans "Share list" %}</button>
	  {% endwith %}
	  <a id="button_to_select" href="{{ question_list.get_absolute_url }}" class="btn btn-success">{% trans "Go" %}!</a>

        {% else %}
	  <a href="{% url 'edit_list' question_list.slug %}" class="btn btn-outline-primary" id="edit_{{ forloop.counter0 }}">{% trans "Edit" %}</a>
	  <a href="{% url 'delete_list' question_list.slug %}" class="btn btn-danger" id="delete_{{ forloop.counter0 }}">{% trans "Delete" %}</a>
        {% endif %}
      </div>
    </div>
    <br>
  {% endfor %}

  {% include "paginator.html" %}

  {% block bootstrap_js_loaded %}
    <script src="{% static 'js/copy_to_clipboard.js' %}" type="text/javascript"></script>
  {% endblock bootstrap_js_loaded %}

{% endblock main %}
